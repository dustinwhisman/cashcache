{% extends "layouts/simple-layout.njk" %}

{% block titleAndDescription %}
  <title>Settings | Cash Cache</title>
  <meta name="description" content="Manage your display, sorting, and data preferences here, as well as handle importing and exporting data.">
{% endblock %}

{% block mainContent %}
  <h1>
    Settings
  </h1>

  <div>
    <a href="/overview" data-back-link>
      Go Back
    </a>
  </div>

  <h2>
    Manage Data
  </h2>

  <h3>
    Delete Data
  </h3>
  <p>
    If you want to delete all your data, you can do that. Just be warned, this is
    irreversible, so you may want to export your data first, just in case you
    change your mind later.
  </p>
  <div>
    <button type="button" data-delete-data>
      Delete All Data
    </button>
  </div>
  <div data-delete-progress aria-live="polite"></div>

  <h3>
    Bulk Upload from CSV
  </h3>
  <p>
    If you have loads of historical data stored somewhere, it would be cumbersome
    to fill out a form for every record. If you want to bulk upload your old data,
    you can use CSVs for expenses, income, savings, and debt.
  </p>
  <p class="small font-style:italic">
    Please note that the formatting matters, so you'll probably need to do some
    conversion on your end. If you need help with that process, you can contact us
    at {% include "components/contact-email.njk" %}
  </p>

  <div class="cluster small">
    <div>
      <a href="/static/expenses-template.csv" download="expenses.csv">
        Expenses CSV Template
      </a>
      <a href="/static/income-template.csv" download="income.csv">
        Income CSV Template
      </a>
      <a href="/static/savings-template.csv" download="savings.csv">
        Savings CSV Template
      </a>
      <a href="/static/debt-template.csv" download="debt.csv">
        Debt CSV Template
      </a>
    </div>
  </div>

  <div>
    <label for="importExpensesFile" class="button">Upload Expenses</label>
    <input id="importExpensesFile" type="file" name="import-expenses-file" class="visually-hidden" data-import-expenses-data>
  </div>
  <div data-import-expenses-progress aria-live="polite"></div>

  <div>
    <label for="importIncomeFile" class="button">Upload Income</label>
    <input id="importIncomeFile" type="file" name="import-income-file" class="visually-hidden" data-import-income-data>
  </div>
  <div data-import-income-progress aria-live="polite"></div>

  <div>
    <label for="importSavingsFile" class="button">Upload Savings</label>
    <input id="importSavingsFile" type="file" name="import-savings-file" class="visually-hidden" data-import-savings-data>
  </div>
  <div data-import-savings-progress aria-live="polite"></div>

  <div>
    <label for="importDebtFile" class="button">Upload Debt</label>
    <input id="importDebtFile" type="file" name="import-debt-file" class="visually-hidden" data-import-debt-data>
  </div>
  <div data-import-debt-progress aria-live="polite"></div>
{% endblock %}

{% block scripts %}
  <script src="/scripts/settings/index.mjs" type="module"></script>
{% endblock %}
